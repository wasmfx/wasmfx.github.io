<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>WasmFX: Effect Handlers for WebAssembly</title>
    <link rel="stylesheet" type="text/css" href="/wasmfx.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
  </head>
  <body>
    <header class="page-section">
      <div class="container-narrow">
        <a class="site-logo" href="/"></a>
        <h2>Effect Handlers for WebAssembly</h2>
        <nav class="site-nav">
          <a class="site-nav-item btn" href="/">Overview</a>
          <a class="site-nav-item btn" href="/specs">Specs</a>
          <a class="site-nav-item btn" href="/community">Community</a>
        </nav>
      </div>
    </header>
    <section class="page-section-spacious flush-bottom">
      <div class="container-narrow">
        <p class="lead">The WasmFX project extends WebAssembly
          (abbreviated <i>Wasm</i>) with <i>effect handlers</i> as a
          unifying mechanism to enable efficient compilation of
          control idioms, such as async/await, generators/iterators,
          first-class continuations, etc.
        </p>
      </div>
    </section>
    <section>
      <div class="container">
        <div class="flash flash-warn">
          WasmFX is currently being considered as the basis for stack
          switching in WebAssembly. The concrete proposal is known
          as <a href="https://github.com/WebAssembly/stack-switching/tree/main/proposals/continuations"
          style="font-style:italic;">typed continuations</a>. Join the
          conversation over at
          the <a href="https://github.com/WebAssembly/stack-switching">official
          WebAssembly stack switching repository</a>.
          <!-- WasmFX is a subsidiary project of the UKRI funded -->
          <!-- project <a href="https://effect-handlers.org">effect handler -->
          <!-- oriented programming</a> (MR/T043830/1) between February -->
          <!-- 2021 and January 2025, which is led -->
          <!-- by <a href="https://homepages.inf.ed.ac.uk/~slindley">Sam -->
          <!-- Lindley</a> at The University of Edinburgh, United Kingdom. -->

          <!--  which is led -->
          <!-- by <a href="https://homepages.inf.ed.ac.uk/~slindley">Sam -->
          <!--   Lindley</a> at The University of Edinburgh, United Kingdom. -->

          <!-- The WasmFX extension is designed by <a href="https://dhil.net/research/">Daniel Hillerstr&ouml;m</a>, -->
          <!-- <a href="https://www.microsoft.com/en-us/research/people/daan/">Daan -->
          <!--   Leijen</a>, <a href="https://homepages.inf.ed.ac.uk/~slindley">Sam -->
          <!--   Lindley</a>, -->
          <!--   and <a href="https://people.mpi-sws.org/~rossberg/">Andreas -->
          <!--   Rossberg</a>. -->

          <!-- The implementation effort is led -->
          <!-- by <a href="https://dhil.net/research/">Daniel -->
          <!-- Hillerstr&ouml;m</a> -->
          <!-- and <a href="https://cosine.website/">Luna -->
          <!-- Phipps-Costin</a>. -->
        </div>
        <div class="row">
          <div class="bubble col-xs-12 col-md-6">
            <h3>Efficient and fast</h3>
            <p>WasmFX provides a general and flexible instruction set
            for fast stack switching, paving the way for efficient
            implementations of various non-local control flow
            abstractions, which would otherwise have to be implemented
            using whole-program transformations such as continuation
            passing style. WasmFX is carefully designed to enable Wasm
            to maintain backwards-compatible performance for legacy
            programs.</p>
          </div>
          <div class="bubble col-xs-12 col-md-6">
            <h3>Modular and composable</h3>
            <p>WasmFX provides a modular and composable basis for
            implementing non-local control flow abstractions via
            delimited control, as the design draws heavily
            on <a href="https://homepages.inf.ed.ac.uk/gdp/publications/Effect_Handlers.pdf">Plotkin
            and Pretnar's handlers for algebraic effects</a>. As such
            the design is based on strong and well-understood
            theoretical foundations; at the same time it also
            incorporates the practical lessons learnt during the
            previous 30 years of research on delimited control.</p>
          </div>
        </div>
        <div class="row">
          <div class="bubble col-xs-12 col-md-6">
            <h3>Debuggable and profilable </h3>
            <p>WasmFX is designed to preserve the debugging and
            profiling experience of WebAssembly. The structure of
            WasmFX stacks offers excellent compatibility with popular
            formats such as <a href="https://dwarfstd.org/">DWARF
            stack unwind tables</a>, enabling WebAssembly
            implementations to maintain compatibility with standard
            debugging and profiling tools.</p>
          </div>
          <div class="bubble col-xs-12 col-md-6">
            <h3>Minimal and compatible</h3>
            <p>WasmFX is designed as a minimal and compatible
            extension to WebAssembly for structured non-local control
            flow. The extension is minimal in the sense that it
            leverages WebAssembly's existing instruction set and type
            system. It extends the instruction set with six new
            instructions and the type system with a new reference
            type.</p>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>
